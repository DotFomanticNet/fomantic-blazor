@namespace Fomantic.Blazor.UI

@code {
 
    protected RenderFragment RenderBeforeRootElementFragments()
    {
        return RenderFragmentsIn(ComponentFragmentLocations.BeforeRootElementAreaName);
    }

    protected RenderFragment RenderAfterRootElementFragments()
    {
        return RenderFragmentsIn(ComponentFragmentLocations.AfterRootElementAreaName);
    }
    protected RenderFragment RenderBeforeContentFragments()
    {
        return RenderFragmentsIn(ComponentFragmentLocations.BeforeContentAreaName);
    }
    protected RenderFragment RenderAfterContentFragments()
    {
        return RenderFragmentsIn(ComponentFragmentLocations.AfterContentAreaName);
    }


    protected RenderFragment RenderFragmentsIn(string areaName)
    {
        return __builder =>
        {
            foreach (var item in this.AdditionalFragments.Where(d => d.Location == areaName))
            {
            @item.Fragment(this)
            }

            foreach (var item in this.Extensions.SelectMany(d => d.ComponentAdditionalFragments.Where(d => d.Location == areaName)))
            {
            @item.Fragment(this)
            }
        };
    }
}
